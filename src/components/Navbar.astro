---
import navItems from "@/data/nav_items.json";
import navicLogo from "@/images/logo/navic_logo.avif";

type NavItem = {
  label: string;
  subItems?: { label: string }[];
};

const items = navItems as NavItem[];
---

<nav class="bg-white shadow-sm">
  <div class="mx-auto flex h-16 max-w-6xl items-center justify-between px-4 sm:px-6 lg:px-8">
    <a href="/" class="inline-flex items-center">
      <img
        src={navicLogo.src ?? navicLogo}
        alt="Navic logo"
        class="h-10 w-auto object-contain"
        loading="lazy"
      />
    </a>
    <ul class="flex items-center gap-3 text-sm font-medium text-gray-800 sm:gap-5">
      {items.map((item) => (
        <li class="relative group">
          <button
            type="button"
            class="flex items-center gap-1 rounded-md px-3 py-2 transition hover:bg-gray-100"
          >
            <span>{item.label}</span>
            {item.subItems && <span class="text-xs text-gray-500">â–¼</span>}
          </button>
          {item.subItems && (
            <div
              class="invisible absolute left-0 top-full z-10 mt-2 w-48 translate-y-1 rounded-md border border-gray-100 bg-white opacity-0 shadow-md transition duration-150 ease-out group-hover:visible group-hover:translate-y-0 group-hover:opacity-100"
            >
              <ul class="py-2">
                {item.subItems.map((subItem) => (
                  <li class="px-4 py-2 text-sm text-gray-700 transition hover:bg-gray-50">
                    {subItem.label}
                  </li>
                ))}
              </ul>
            </div>
          )}
        </li>
      ))}
    </ul>
  </div>
</nav>
